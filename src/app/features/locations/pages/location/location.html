<main>
  <section class="container d-flex flex-column align-items-center pt-5 gap-5">
    <h1 class="title">Localizações de<span>Rick e Morty</span></h1>

    <picture class="picture border border-4 border-dark border-bottom-0">
      <source srcset="images/dashboard-rick-and-morty.jpg" type="image/svg+xml" />
      <img src="images/dashboard-rick-and-morty.jpg" alt="Imagem do Rick e Morty" />
    </picture>
  </section>

  <section class="bg-dark py-4">
    <div class="container">
      <div class="row">
        <div class="table-responsive">
          <table class="table table-striped table-borderless">
            <thead class="table-dark">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Nome</th>
                <th scope="col">Dimensão</th>
                <th scope="col">Ações</th>
              </tr>
            </thead>
            <tbody class="table-body">
              @for(location of locations$ | async; track location.id){
              <tr>
                <th scope="row">{{ location.id }}</th>
                <td>{{ location.name }}</td>
                <td>{{ location.dimension }}</td>
                <td>
                  <a class="btn btn-primary btn-sm" [routerLink]="['/locations', location.id]"
                    >Detalhes</a
                  >
                </td>
              </tr>
              } @if(loading$ | async){
              <tr>
                <td colspan="4" [class.table-loading]="isFirstLoad$ | async" class="text-center">
                  Carregando...
                </td>
              </tr>
              } @else if((locations$ | async)?.length === 0){
              <tr>
                <td colspan="4" class="text-center">Nenhuma localização encontrada.</td>
              </tr>
              }
            </tbody>
          </table>
        </div>
      </div>

      <div #infiniteAnchor style="height: 1px"></div>
    </div>
  </section>
</main>
