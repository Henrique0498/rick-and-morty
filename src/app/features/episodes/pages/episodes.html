<main>
  <section class="container d-flex flex-column align-items-center pt-5 gap-5">
    <h1 class="title">Episódios de<span>Rick e Morty</span></h1>

    <picture class="picture border border-4 border-dark border-bottom-0">
      <source srcset="images/dashboard-rick-and-morty.jpg" type="image/svg+xml" />
      <img src="images/dashboard-rick-and-morty.jpg" alt="Imagem do Rick e Morty" />
    </picture>
  </section>

  <section class="bg-dark py-4">
    <div class="container">
      <div class="row">
        <div class="table-responsive">
          <table class="table table-striped table-borderless">
            <thead class="table-dark">
              <tr>
                <th scope="col">#</th>
                <th scope="col">Nome</th>
                <th scope="col">Data de Lançamento</th>
                <th scope="col">Número do Episódio</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let episode of episodes$ | async">
                <th scope="row">{{ episode.id }}</th>
                <td>{{ episode.name }}</td>
                <td>{{ episode.air_date }}</td>
                <td>{{ episode.episode }}</td>
              </tr>

              @if(loading$ | async){
              <tr>
                <td colspan="4" class="text-center">Carregando...</td>
              </tr>
              } @else if((episodes$ | async)?.length === 0){
              <tr>
                <td colspan="4" class="text-center">Nenhum episódio encontrado.</td>
              </tr>
              }
            </tbody>
          </table>
        </div>
      </div>

      <div #infiniteAnchor style="height: 1px"></div>
    </div>
  </section>
</main>
